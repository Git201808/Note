# Java程序设计基础

！！！ 本章学习要点

1. 掌握常量的声明
2. 掌握变量的声明和赋值
3. 掌握数据类型的分类
4. 掌握算术运算符和赋值运算符
5. 熟悉逻辑运算符和关系运算符
6. 了解位运算符
7. 熟悉运算符的优先级
8. 熟悉两种基本类型转换

## 1Java标识符和关键字

### 标识符

Java中标识符是为方法、变量或其它用户义项所定义的名称。标识符可以有一个或多个字符。在Java语言中，标识符的构成规则如下。

- 标识符由数字（0-9）和字母（A-Z和a-z)、美元符号($)、下划线(_)以及Unicode字符集中符号大雨0xC0的所有符号组合构成（各符号之间没有空格）。
- 标识符的第一个符号为字母、下划线和美元符号，后面可以是任何字母、数字、美元符号或下划线

另外，Java区分大小写，因此myvar和MyVar是两个不同的标识 符。

提示：标识符命名时，切记不能以数字开头，也不能使用任何 Java 关键字作为标识符，而且不能赋予标识符任何标准的方法名。



标识符分为两类，分别为关键字和用户自定义标识符。

1. 关键字是有特殊含义的标识符，如 true、false 表示逻辑的真假。
2. 用户自定义标识符是由用户按标识符构成规则生成的非保留字的标识符，如 abc 就是一个标识符。

提示：使用标识符时一定要注意，或者使用关键字，或者使用自定义的非关键字标识符。此外，标识符可以包含关键字，但不能与关键字重名。

例如以下合法与不合法标识符。

- 合法标识符：date、$2011、_date、D_$date 等。
- 不合法的标识符：123.com、2com、for、if 等。

标识符用来命名常量、变量、类和类的对象等。因此，一个良好的编程习惯要求命名标识符时，应赋予它一个有意义或有用途的名字。

### 关键字

关键字（或者保留字）是对编译器有特殊意义的固定单词，不能在程序中做其他目的使用。关键字具有专门的意义和用途，和自定义的标识符不同，不能当作一般的标识符来使用。例如，在《[使用记事本编写运行Java程序](http://c.biancheng.net/view/5611.html)》一节的实例 HelloJava.java 中的 class 就是一个关键字，它用来声明一个类，其类名称为 HelloJava。public 也是关键字，它用来表示公共类。另外，static 和 void 也是关键字，它们的使用将在本教程后面的章节中详细介绍。

Java 的关键字对 Java 编译器有特殊的意义，它们用来表示一种数据类型，或者表示程序的结构等。保留字是为 Java 预留的关键字，它们虽然现在没有作为关键字，但在以后的升级版本中有可能作为关键字。

Java 语言目前定义了 51 个关键字，这些关键字不能作为变量名、类名和方法名来使用。以下对这些关键字进行了分类。

1. 数据类型：boolean、int、long、short、byte、float、double、char、class、interface。
2. 流程控制：if、else、do、while、for、switch、case、default、break、continue、return、try、catch、finally。
3. 修饰符：public、protected、private、final、void、static、strict、abstract、transient、synchronized、volatile、native。
4. 动作：package、import、throw、throws、extends、implements、this、supper、instanceof、new。
5. 保留字：true、false、null、goto、const。


提示：由于 Java 区分大小写，因此 public 是关键字，而 Public 则不是关键字。但是为了程序的清晰及可读性，要尽量避免使用关键字的其他形式来命名。

## 注释

单行注释 //

多行注释 /**/

文档注释 /** */

在 Java 中，一行注释以双斜杠“//”标识；多行注释包含在“/*”和“*/”之间；文档注释包含在“/**”和“*/”之间。当编译器执行到“//”时，就会忽略该行“//”之后的所有文本；当执行到“/*”时，会扫描下一个“*/”并忽略“/*”和“*/”之间的任何文本；当执行到“/**”时，也会扫描下一个“*/”并忽略“/**”和“*/”之间的任何文本内容。

## Javadoc（文档注释）详解

文档注释只放在类、接口、成员变量、方法之前，因为 Javadoc 只处理这些地方的文档注释，而忽略其它地方的文档注释。

Javadoc 是 Sun 公司提供的一种工具，它可以从程序源代码中抽取类、方法、成员等注释，然后形成一个和源代码配套的 API 帮助文档。也就是说，只要在编写程序时以一套特定的标签注释，在程序编写完成后，通过 Javadoc 就形成了程序的 API 帮助文档。

> API 帮助文档相当于产品说明书，而说明书只需要介绍那些供用户使用的部分，所以 Javadoc 默认只提取 public、protected 修饰的部分。如果要提取 private 修饰的部分，需要使用 -private。

## Javadoc标签

Javadoc 工具可以识别文档注释中的一些特殊标签，这些标签一般以`@`开头，后跟一个指定的名字，有的也以`{@`开头，以`}`结束。Javadoc 可以识别的标签如下表所示：



| 标签          | 描述                                                   | 示例                                                         |
| ------------- | ------------------------------------------------------ | ------------------------------------------------------------ |
| @author       | 标识一个类的作者，一般用于类注释                       | @author description                                          |
| @deprecated   | 指名一个过期的类或成员，表明该类或方法不建议使用       | @deprecated description                                      |
| {@docRoot}    | 指明当前文档根目录的路径                               | Directory Path                                               |
| @exception    | 可能抛出异常的说明，一般用于方法注释                   | @exception exception-name explanation                        |
| {@inheritDoc} | 从直接父类继承的注释                                   | Inherits a comment from the immediate surperclass.           |
| {@link}       | 插入一个到另一个主题的链接                             | {@link name text}                                            |
| {@linkplain}  | 插入一个到另一个主题的链接，但是该链接显示纯文本字体   | Inserts an in-line link to another topic.                    |
| @param        | 说明一个方法的参数，一般用于方法注释                   | @param parameter-name explanation                            |
| @return       | 说明返回值类型，一般用于方法注释，不能出现再构造方法中 | @return explanation                                          |
| @see          | 指定一个到另一个主题的链接                             | @see anchor                                                  |
| @serial       | 说明一个序列化属性                                     | @serial description                                          |
| @serialData   | 说明通过 writeObject() 和 writeExternal() 方法写的数据 | @serialData description                                      |
| @serialField  | 说明一个 ObjectStreamField 组件                        | @serialField name type description                           |
| @since        | 说明从哪个版本起开始有了这个函数                       | @since release                                               |
| @throws       | 和 @exception 标签一样.                                | The @throws tag has the same meaning as the @exception tag.  |
| {@value}      | 显示常量的值，该常量必须是 static 属性。               | Displays the value of a constant, which must be a static field. |
| @version      | 指定类的版本，一般用于类注释                           | @version info                                                |

对两种标签格式的说明：

- @tag 格式的标签（不被`{ }`包围的标签）为块标签，只能在主要描述（类注释中对该类的详细说明为主要描述）后面的标签部分（如果块标签放在主要描述的前面，则生成 API 帮助文档时会检测不到主要描述）。
- {@tag} 格式的标签（由`{ }`包围的标签）为内联标签，可以放在主要描述中的任何位置或块标签的注释中。


Javadoc 标签注意事项：

- Javadoc 标签必须从一行的开头开始，否则将被视为普通文本。
- 一般具有相同名称的标签放在一起。
- Javadoc 标签区分大小写，代码中对于大小写错误的标签不会发生编译错误，但是在生成 API 帮助文档时会检测不到该注释内容。

## Javadoc命令

Javadoc 用法格式如下：

javadoc [options] [packagenames] [sourcefiles]

对格式的说明：

- options 表示 Javadoc 命令的选项；
- packagenames 表示包名；
- sourcefiles 表示源文件名。


在 cmd（命令提示符）中输入`javadoc -help`就可以看到 Javadoc 的用法和选项（前提是安装配置了JDK），下面列举 Javadoc 命令的常用选项：



| 名称                | 说明                                     |
| ------------------- | ---------------------------------------- |
| -public             | 仅显示 public 类和成员                   |
| -protected          | 显示 protected/public 类和成员（默认值） |
| -package            | 显示 package/protected/public 类和成员   |
| -private            | 显示所有类和成员                         |
| -d <directory>      | 输出文件的目标目录                       |
| -version            | 包含 @version 段                         |
| -author             | 包含 @author 段                          |
| -splitindex         | 将索引分为每个字母对应一个文件           |
| -windowtitle <text> | 文档的浏览器窗口标题                     |

## 常量：Java常量的定义和分类

### 常量值

常量值又称为字面常量，它是通过数据直接表示的，因此有很多种数据类型，像整型和字符串型等。下面一一介绍这些常量值。

#### 整型常量值

Java 的整型常量值主要有如下 3 种形式。

- 十进制数形式：如 54、-67、0。
- 八进制数形式：Java 中的八进制常数的表示以 0 开头，如 0125 表示十进制数 85，-013 表示十进制数 -11。
- 十六进制数形式：Java 中的十六进制常数的表示以 0x 或 0X 开头，如 0x100 表示十进制数 256，-0x16 表示十进制数 -22。


整型（int）常量默认在内存中占 32 位，是具有整数类型的值，当运算过程中所需值超过 32 位长度时，可以把它表示为长整型（long）数值。长整型类型则要在数字后面加 L 或 1， 如 697L，表示一个长整型数，它在内存中占 64 位。

#### 实型常量值

Java 的实型常量值主要有如下两种形式。

- 十进制数形式：由数字和小数点组成，且必须有小数点，如 12.34、-98.0。
- 科学记数法形式：如 1.75e5 或 32&E3，其中 e 或 E 之前必须有数字，且 e 或 E 之后的数字必须为整数。


Java 实型常量默认在内存中占 64 位，是具有双精度型（double）的值。如果考虑到需要节省运行时的系统资源，而运算时的数据值取值范围并不大且运算精度要求不太高的情况，可以把它表示为单精度型（float）的数值。

单精度型数值一般要在该常数后面加 F 或 f，如 69.7f，表示一个 float 型实数，它在内存中占 32 位（取决于系统的版本高低）。

#### 布尔型常量值

Java 的布尔型常量只有两个值，即 false（假）和 true（真）。

#### 字符型和字符串常量值

Java 的字符型常量值是用单引号引起来的一个字符，如 'e'、E'。需要注意的是，Java 字符串常量值中的单引号和双引号不可混用。双引号用来表示字符串，像 "11"、"d" 等都是表示单个字符的字符串。

除了以上所述形式的字符常量值之外，Java 还允许使用一种特殊形式的字符常量值来表示一些难以用一般字符表示的字符，这种特殊形式的字符是以开头的字符序列，称为转义字符。

注意：这里表示字符和字符串的单引号和双引号都必须是英语输入环境下输入的符号。

Java常用的转义字符

| 转义字符 | 说明                         |
| -------- | ---------------------------- |
| \ddd     | 1~3 位八进制数所表示的字符   |
| \uxxxx   | 1~4 位十六进制数所表示的字符 |
| \'       | 单引号字符                   |
| \"       | 双引号字符                   |
| \\       | 双斜杠字符                   |
| \r       | 回车                         |
| \n       | 换行                         |
| \b       | 退格                         |
| \t       | 横向跳格                     |

#### 定义常量

Java 语言使用 final 关键字来定义一个常量，其语法如下所示：

final dataType variableName = value

其中，final 是定义常量的关键字，dataType 指明常量的数据类型，variableName 是变量的名称，value 是初始值。

常量有三种类型：静态常量、成员常量和局部常量。

代码第 3 行的是声明静态常量，使用在 final 之前 public static 修饰。public static 修饰的常量作用域是全局的，不需要创建对象就可以访问它，在类外部访问形式为 HelloWorld. PI。这种常量在编程中使用很多。

代码第 5 行声明成员常量，作用域类似于成员变量，但不能修改。代码第 9 行声明局部常量，作用域类似于局部变量，但不能修改。

在定义常量时，需要注意如下内容：

- 在定义常量时就需要对该常量进行初始化。
- final 关键字不仅可以用来修饰基本数据类型的常量，还可以用来修饰对象的引用或者方法。
- 为了与变量区别，常量取名一般都用大写字符。


当常量被设定后，一般情况下不允许再进行更改，如果更改其值将提示错误。例如，如下图中定义常量 AGE 并赋予初值，如果更改 AGE 的值，那么在编译时将提示不能重合赋值错误。

## Java变量的声明和初始化

[Java](http://c.biancheng.net/java/) 语言是强类型（Strongly Typed）语言，强类型包含以下两方面的含义：

- 所有的变量必须先声明、后使用。
- 指定类型的变量只能接受类型与之匹配的值。

这意味着每个变量和每个表达式都有一个在编译时就确定的类型。类型限制了一个变量能被赋的值，限制了一个表达式可以产生的值，限制了在这些值上可以进行的操作，并确定了这些操作的含义。

常量和变量是 Java 程序中最基础的两个元素。常量的值是不能被修改的，而变量的值在程序运行期间可以被修改。本文详细介绍 Java 中变量的声明和赋值方法。

#### 声明变量

对开发人员来说，变量是用来描述一条信息的别名，可以在程序中使用一个或多个变量。变量中可以储存各中类型的信息，如登录信息，版本信息，文件的大小、某个英文单词以及飞机票价格等。

在Java中用户可以通过指定的数据类型和标识符来声明变量，其基本语法如下所示：

DataType identifier;

或者

DataType identifier=value;

上述语法代码中涉及 3 个内容：DataType、 identifier 和 value，其具体说明如下：

- DataType：变量类型，如 int、string、 char 和 double 等。
- identifier：标识符，也叫变量名称。
- value：声明变量时的值。


变量标识符的命名规范如下：

- 首字符必须是字母、下划线（―）、美元符号（$）或者人民币符号（¥）。
- 标识符由数字（0~9）、大写字母（A~Z）、小写字母（a~z）、下划线（―）、美元符号（$）、人民币符号（¥）以及所有在十六进制 0xc0 前的 ASCII 码组成。
- 不能把关键字、保留字作为标识符。
- 标识符的长度没有限制。
- 标识符区分大小写。

如下代码分别声明了 String、boolean 和 int 类型的变量。

```
纯文本复制
String employee;    // String 类型的变量
boolean isSave;    // boolean 类型的变量
int create_at;    // int 类型的变量
```

#### 变量赋值

初始化变量是指为变量指定一个明确的初始值。初始化变量有两种方式：一种是声明时直接赋值，一种是先声明、后赋值。如下代码分别使用两种方式对变量进行了初始化。

```
char usersex='女';    // 直接赋值
```

或者

```
String username;    // 先声明username ="琪琪";    // 后赋值
```


另外，多个同类型的变量可以同时定义或者初始化，但是多个变量中间要使用逗号分隔，声明结束时用分号分隔。

```
String username,address,phone,tel;    // 声明多个变量int num1=12,num2=23,result=35;    // 声明并初始化多个变量
```


Java 中初始化变量时需要注意以下事项：

- 变量是类或者结构中的字段，如果没有显式地初始化，默认状态下创建变量并默认初始值为 0。
- 方法中的变量必须显式地初始化，否则在使用该变量时就会出错。
